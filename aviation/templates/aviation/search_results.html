{% extends 'aviation/base.html' %}

{% block title %}Search Results - Aviation System{% endblock %}

{% block content %}
<h1 style="color: #fff; margin-bottom: 1.5rem;">Search Results</h1>

{% if query %}
    <p style="color: #94a3b8; margin-bottom: 2rem;">
        Showing {{ result_count }} result{{ result_count|pluralize }} for "<strong style="color: #fff;">{{ query }}</strong>"
    </p>

    {% if results %}
        <div style="display: grid; gap: 1rem;">
            {% for result in results %}
            <a href="{{ result.url }}" style="text-decoration: none;">
                <div style="background: rgba(30, 41, 59, 0.5); padding: 1.5rem; border-radius: 12px; border: 1px solid #334155; transition: all 0.2s;" onmouseover="this.style.background='rgba(30, 41, 59, 0.7)'; this.style.borderColor='#60a5fa'" onmouseout="this.style.background='rgba(30, 41, 59, 0.5)'; this.style.borderColor='#334155'">
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                <span style="padding: 0.25rem 0.75rem; background: #3b82f6; color: #fff; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
                                    {{ result.type }}
                                </span>
                                <h3 style="color: #fff; margin: 0; font-size: 1.125rem;">{{ result.title }}</h3>
                            </div>
                            <p style="color: #94a3b8; margin: 0; font-size: 0.875rem;">{{ result.subtitle }}</p>
                        </div>
                        {% if result.status %}
                        <span style="padding: 0.5rem 1rem; background: {% if result.status == 'Completed' %}#10b981{% elif result.status == 'Delayed' %}#f59e0b{% elif result.status == 'Cancelled' %}#ef4444{% else %}#3b82f6{% endif %}; color: #fff; border-radius: 20px; font-size: 0.875rem; font-weight: 600;">
                            {{ result.status }}
                        </span>
                        {% endif %}
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    {% else %}
        <div style="background: rgba(30, 41, 59, 0.5); padding: 3rem; border-radius: 12px; border: 1px solid #334155; text-align: center;">
            <p style="color: #94a3b8; font-size: 1.125rem; margin: 0;">No results found for "{{ query }}"</p>
            <p style="color: #64748b; font-size: 0.875rem; margin-top: 0.5rem;">Try searching with different keywords</p>
        </div>
    {% endif %}
{% else %}
    <div style="background: rgba(30, 41, 59, 0.5); padding: 3rem; border-radius: 12px; border: 1px solid #334155; text-align: center;">
        <p style="color: #94a3b8; font-size: 1.125rem; margin: 0;">Enter a search query to find flights, airlines, airports, or passengers</p>
    </div>
{% endif %}

<div style="margin-top: 2rem;">
    <a href="{% url 'home' %}" style="color: #60a5fa; text-decoration: none;">‚Üê Back to Dashboard</a>
</div>

{% endblock %}
